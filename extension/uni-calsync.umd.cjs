(function(o){typeof define=="function"&&define.amd?define(o):o()})(function(){"use strict";var o=globalThis&&globalThis.__awaiter||function(i,s,t,e){function w(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function p(n){try{c(e.next(n))}catch(u){a(u)}}function y(n){try{c(e.throw(n))}catch(u){a(u)}}function c(n){n.done?r(n.value):w(n.value).then(p,y)}c((e=e.apply(i,s||[])).next())})};const l="https://api.adelaide.edu.au/api/generic-query-structured/v1/?target=/system/TIMETABLE_WEEKLY/queryx/*";let f=4310,h=1886739;function d(i){return o(this,void 0,void 0,function*(){let s=i.requestHeaders.find(e=>e.name==="Authorization").value,t;try{t=yield(yield window.fetch(`https://api.adelaide.edu.au/api/generic-query-structured/v1/?target=/system/TIMETABLE_LIST/queryx/${h},${f}&MaxRows=9999`,{headers:{"access-control-allow-credentials":"true","access-control-allow-headers":"accept,authorization,access-control-allow-headers,access-control-allow-origin","access-control-allow-methods":"GET,OPTIONS",Authorization:s}})).json()}catch(e){return console.error(e),e}return browser.webRequest.onBeforeSendHeaders.removeListener(d),t})}browser.webRequest.onBeforeSendHeaders.addListener(d,{urls:[l]},["blocking","requestHeaders"])});
